<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Garlic.js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/docs.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style>
        body {
            display: block;
            padding: 10px 10%;
            padding-top: 0;
            margin: auto;
        }

        h1.affix {
            display: block;
        }

        .container {
            margin-top: 0;
        }

        pre {
            margin: 10px 0 15px 0;
        }

        .affix {
            position: fixed;
            clear: both;
        }

        .bs-docs-sidenav.affix {
            top: 160px;
        }

        #demonstration {
            padding-top: 0;
        }

    </style>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="100">
    <a href="https://github.com/guillaumepotier/garlic.js"><img style="position: fixed; top: 0; right: 0; border: 0; z-index:9999" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
    <div class="container">
        <h1 class="">
            Garlic.js

            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://garlicjs.org" data-text="Garlic.js: allows you to automatically persist your forms' text field values locally, until the form is submitted" data-size="large"></a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </h1>

        <div class="row well">
            Garlic.js allows you to automatically persist your forms' text field values locally, until the form is submitted. This way, your users don't lose any precious data if they accidentally close their tab or browser.
        </div>

        <div class="row row-content">
            <div class="span3 bs-docs-sidenav">
                <ul class="nav nav-list bs-docs-sidenav affix">
                    <li><a href="#demonstration"><i class="icon-chevron-right"></i> Demonstration</a></li>
                    <li><a href="#requirements"><i class="icon-chevron-right"></i> Requirements / Compatibiliy</a></li>
                    <li><a href="#usage"><i class="icon-chevron-right"></i> Usage</a></li>
                    <li><a href="#documentation"><i class="icon-chevron-right"></i> Documentation</a></li>
                    <li><a href="#other"><i class="icon-chevron-right"></i> Other stuff</a></li>
                    <li><a href="#licence"><i class="icon-chevron-right"></i> Version / Licence</a></li>
                </ul>
            </div>

            <div class="span9 doc-content">
                <section id="demonstration">
                    <div class="page-header">
                        <h1>Demonstration <small>some magic..</small></h1>
                    </div>
                    <form data-persist="garlic" method="POST">
                        <fieldset>
                            <legend>1 - Simple form</legend><br/>
                            <label for="field1">Forms are independent. All text data is localy persisted thanks to localStorage<br/>
                            if browser supports it. If you reload this page, quit and go back here, your<br/>
                            data will still be there. On simple validation, if you press the submit button<br/>
                            the presisted data will be destroyed, considering it has properly been submited</label>
                            <input type="text" name="mytext" id="field1"/><br/>
                            <textarea name="textarea"></textarea><br/>
                            <label for="select">Currently, only input text and textarea are persisted by default.  This is configurable.</label>
                            <select id="select">
                                <option>Hello</option>
                                <option>World</option>
                                <option>I</option>
                                <option>Am</option>
                                <option>Persisted</option>
                            </select><br/>
                            <input type="submit" class="btn"/>
                        </fieldset>
                    </form>

                    <form data-persist="garlic"  method="POST">
                        <fieldset>
                            <legend>2 - Form with non-persisted fields</legend><br/>
                            This field will be localy persisted while submit button is not triggered<br/>
                            <input type="text" name="mytext" /><br/><br/>

                            Thise textarea will never be persisted since it has the <code>data-storage="false"</code> attribute<br/>
                            <textarea name="textarea" data-storage="false"></textarea><br/>
                            <input type="submit" class="btn"/>
                        </fieldset>
                    </form>

                    <form data-persist="garlic"  method="POST">
                        <fieldset>
                            <legend>3 - Custom javascript or ajax validation</legend><br/>
                            <label for="ajax-test">This field will be localy persisted while js test not ok. Could be usefull<br/>
                            with some AJAX behaviour. Here text will be persisted only if < 10 chars</label><br/>
                            <input type="text" id="ajax-test" name="myajaxtext" /> <span id="indicator"></span><br/>
                        </fieldset>
                    </form>
                </section>

                <section id="requirements">
                    <div class="page-header">
                        <h1>Requirements / Compatibiliy</h1>
                    </div>
                    <ul>
                        <li>Requires jQuery</li>
                        <li>Compatible yet with "modern browsers"</li>
                    </ul>
                </section>

                <section id="usage">
                    <div class="page-header">
                        <h1>Usage</h1>
                    </div>
                    <ul>
                        <li>
                            <strong>Include jQuery (if not already here) and garlic.js</strong><br/>
                            <pre>
&lt;script src="jquery.js"></script>
&lt;script src="garlic.js"></script></pre>
                        </li>
                        <li>
                            <strong>Add </strong><code>data-persist="garlic"</code><strong> to the forms you want to auto-persist</strong><br/>
                            <pre>&lt;form data-persist="garlic" method="POST"></form></script></pre>
                        </li>
                    </ul>
                    <h3>That's all! ;)</h3>
                </section>

                <section id="documentation">
                    <div class="page-header">
                        <h1>Documentation</h1>
                    </div>
                    <ul>
                        <li>
                            <strong>Manually call garlic in javascript</strong><br/>
                            <pre>
&lt;script type="text/javascript">
  $('[rel=persist]').garlic();
&lt;/script></pre>
                        </li>
                        <li>
                            <strong>Destroy storage for an element (don't work on an entire form yet, only input by input)</strong><br/>
                            <pre>
&lt;script type="text/javascript">
  $('input.no_good').garlic('destroy');
&lt;/script></pre>
                        </li>
                        <li>
                            <strong>Persist select boxes and checkboxes as well</strong><br/>
                            <pre>
&lt;script type="text/javascript">
  $('[rel=persist]').garlic( { inputs: 'input, select, textarea' } );
&lt;/script></pre>
                        </li>
                    </ul>
                </section>

                <section id="other">
                    <div class="page-header">
                        <h1>Other stuff</h1>
                    </div>
                    Please, feel free to fork and contribute to this plugin, or just discuss ideas, enhancement requests in an <a href="https://github.com/guillaumepotier/garlic.js/issues?state=open">issue</a>.<br/><br/>
                    You could also fix my english mistakes, add some more tests in the test suite, and much more! :)
                </section>

                <section id="licence">
                    <div class="page-header">
                        <h1>Vesion / Licence</h1>
                    </div>
                    <a href="https://github.com/guillaumepotier/Garlic.js/blob/master/README.md">0.0.4 - MIT</a>
                </section>
            </div>
        </div>
    </div>

    <br/>
    <p>&copy; <a href="http://twitter.com/guillaumepotier" target="_blank">@guillaumepotier</a> 2012.</p>

    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="https://raw.github.com/guillaumepotier/Garlic.js/master/garlic.min.js"></script>
    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-affix.js"></script>
    <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script>

    <script type="text/javascript">
        $('#ajax-test').keyup( function () {
            if ($(this).val().length >= 10) {
                $('#ajax-test').garlic('destroy');
                $('#indicator').text("Won't be persisted!").removeClass("alert alert-success").addClass("alert alert-info");
                return;
            }

            $('#indicator').text("Will be persisted!").removeClass("alert alert-info").addClass("alert alert-success");
        });
    </script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-36239082-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
